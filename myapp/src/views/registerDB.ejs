<!DOCTYPE html>
<html lang="es">
<%- include('partials/head') %>

<body>
    <%- include('partials/header') %>
    <div class="container mainRegister mt-5">
        <div class="row">
            <div
                class="containerColumn d-flex flex-wrap align-items-center justify-content-center col-12 col-sm-6 col-lg-5 mt-0 mb-0 m-auto shadow rounded-lg">
                <div class="containerBlock d-flex flex-wrap justify-content-between w-100 m-4">
                    <form class=" d-flex flex-wrap justify-content-between w-100" action="/users/registerDB"
                        method="POST" enctype="multipart/form-data">
                        <div class="mt-0 p-0 mb-3 text-center w-100">
                            <h4 class="text-center font-weight-bold">Registrate!</h4>
                        </div>
                        <!-- Username input -->
                        <div class="w-100 m-0 p-0">
                            <small class=" text-danger text-center">
                                <%= (typeof errors != "undefined" && typeof errors.errors != "undefined" && errors.errors[0].message == "username_UNIQUE must be unique") ? "El usuario ya se encuentra registrado en la base de datos." : "" %></small>
                            <small class=" text-danger text-center username">
                                <%= (typeof errors != "undefined" && errors.userName) ? errors.userName.msg : "" %></small>
                            <input class="border border-white rounded-lg flex-grow-1 w-100 mb-1 mt-1 p-2 shadow"
                                type="text" name="userName" placeholder="Username"
                                value="<%= (typeof old != 'undefined' && !errors.username) ? old.userName : '' %>"><i class="d-none ml-2 mr-2 errorUserNameIcon fas"></i><small class="text-center" id="errorUserName" ></small>

                        </div>
                        <!-- Email input -->
                        <div class="w-100 mt-2 m-0 p-0">
                            <small class=" text-danger text-center">
                                <%= (typeof errors != "undefined" && typeof errors.errors != "undefined" && errors.errors[0].message == "email_UNIQUE must be unique") ? "El email ingresado ya se encuentra registrado en la base de datos." : "" %></small>
                            <small class=" text-danger text-center email">
                                <%= (typeof errors != "undefined" && errors.userEmail) ? errors.userEmail.msg : "" %></small>

                            <input class="border border-white rounded-lg flex-grow-1 w-100 mb-1 mt-1 p-2 shadow"
                                type="email" name="userEmail" placeholder="Email"
                                value="<%= (typeof old != 'undefined' && !errors.email) ? old.userEmail : '' %>"><i class="d-none ml-2 mr-2 errorEmailIcon fas"></i><small class="text-center" id="errorEmail" ></small>
                        </div>
                        <!-- First password input -->
                        <div class="w-100 mt-2 m-0 p-0">
                            <small class=" text-danger text-center password">
                                <%= (typeof errors != "undefined" && errors.userPassword) ? errors.userPassword.msg : "" %></small>
                            <input class="border border-white rounded-lg flex-grow-1 w-100 mt-1 mb-3 p-2 shadow"
                                type="password" placeholder="Contraseña" name="userPassword"
                                value="<%= (typeof old != 'undefined' && !errors.userPassword) ? old.userPassword : '' %>">
                        </div>
                        <div class="w-100 m-0 p-0">
                            <small class=" text-danger text-center rePassword"></small>
                            <input class="border border-white rounded-lg flex-grow-1 w-100 mt-1 mb-3 p-2 shadow"
                                type="password" placeholder="Confirmar contraseña" name="userRePassword">
                        </div>
                        <div class="mt-1 mb-1 p-0 text-center col-12">
                            <h5 class="m-0 text-center font-weight-bold">Sube una foto!</h5>
                            <small class=" text-danger text-center multer"></small>
                        </div>
                        <div class="col-12 d-flex flex-row flex-wrap justify-content-around">
                            <div class="d-flex flex-wrap justify-content-center col-12 text-truncate">
                                <input class="text-truncate" type="file" name="userImg" id="userImage1" hidden>
                            </div>
                            <div>
                                <button class="btn btn-sm btn-warning userImg rounded-lg" action="" type="button"><i class="fas fa-plus-circle"></i></button>
                            </div>
                        </div>
                        <div class="d-flex flex-wrap justify-content-center p-2 col-12">
                            <img class="col-4 m-0 shadow p-0 m-auto previewAvatar" src="/images/users/usuario.png" alt="">
                        </div>

                        <button class="btn btn-warning mt-3 mb-3  flex-grow-1 col-5 shadow">Seguir con <i
                                class="fab fa-facebook-square"></i></button>
                        <button class="btn btn-warning mt-3 mb-3 flex-grow-1 col-5 shadow">Seguir con <i
                                class="fab fa-google"></i></button>
                        <img src="/images/captcha.png" class="captcha rounded-lg col-12 col-md-10 m-auto" alt="">
                        <button class="btn btn-warning mt-3 col-12 font-weight-bold shadow submit"
                            type="submit">REGISTRARSE</button>
                    </form>
                    <div class="d-flex flex-wrap justify-content-center w-100">
                        <a class="text-center mt-3 text-decoration-none" href="/users/login">
                            <h6 class="text-center m-2">¿Ya estás registrado?</h6>
                        </a>
                    </div>

                </div>
            </div>
        </div>

    </div>
    <%- include('partials/footer') %>

    <%- include('partials/scriptsBootstrap') %>
    <script src="/js/registerDB.js"></script>
</body>

</html>